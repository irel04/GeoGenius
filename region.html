<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />
    <title>Select Region</title>
</head>
<style>
    .title{
    text-align: center;
    font-size: 50px;
    margin-top: 80px;
    margin-bottom: 50px;
    }
    .swiper
    {
        width: 800px;
    }
    .slide-container
    {
        cursor: pointer;
        min-width: 100%;
        justify-content: center;
        overflow: hidden;
    }
    .slide-content
    {
        margin: 0 100px;
        
    }
    .main-card .card
    {
        justify-content: space-evenly;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding-top: 30px;
        width: 300px;
        height: 400px;
        box-shadow: 20px 40px 45px rgba(0,0,0,0.1);
        background: beige;
        border-radius: 20px;
        cursor: pointer;
    }
    .regions
    {
        font-size: 30px;
        font-family: Arial;
        text-align: center;
        margin-top: 5px;
    }
</style>
<body>
    <h2 class="title">SELECT REGION</h2>
    <div class="slide-container">
        <div class="wiper mySwiper slide-content">
            <div class="swiper-wrapper main-card">
                <div class="swiper-slide card">
                    <img class="image" src="Selection-Image/africa-region.png" width="300" height="300">
                    <h4 class="regions">AFRICA</h4>
                </div>
                <div class="swiper-slide card">
                    <img class="image" src="Selection-Image/asia-region.png" width="300" height="300">
                    <h4 class="regions">ASIA</h4>
                </div>
                <div class="swiper-slide card">
                    <img class="image" src="Selection-Image/oceania-region.png" width="300" height="300">
                    <h4 class="regions">OCEANIA</h4>
                </div>
                <div class="swiper-slide card">
                    <img class="image" src="Selection-Image/north-america-region.png" width="300" height="300">
                    <h4 class="regions">NORTH AMERICA</h4>
                </div>
                <div class="swiper-slide card">
                    <img class="image" src="Selection-Image/south-america-region.png" width="300" height="300">
                    <h4 class="regions">SOUTH AMERICA</h4>
                </div>
                <div class="swiper-slide card">
                    <img class="image" src="Selection-Image/europe-region.png" width="300" height="300">
                    <h4 class="regions">EUROPE</h4>
                </div>     
            </div>
        </div>
    </div>
    <div class="swiper-button-next"></div>
    <div class="swiper-button-prev"></div>
    <div class="swiper-pagination"></div>
    
   
    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>

    <!-- Initialize Swiper -->
    <script>
        var swiper = new Swiper(".mySwiper", {
        slidesPerView: 3,
        spaceBetween: 50,
        loop: true,
        pagination: {
            el: ".swiper-pagination",
            clickable: true,
        },
        navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev",
        },
        });
    </script>
    <!-- For selecting regions -->
    <script>
        const select_region = document.getElementsByClassName('swiper-slide')

        select_region[1].style.background = 'gray'
        select_region[2].style.background = 'gray'
        select_region[3].style.background = 'gray'
        select_region[4].style.background = 'gray'
        select_region[5].style.background = 'gray'
        
        select_region[0].addEventListener('click', (e)=>{
            window.location = 'category.html'
            sessionStorage.setItem('region', 'Africa')
        })

         // Unlocked other continent by atleast scoring 24 points in each continent
        needed_points = 2
         
        function unlocked(totalScore){
           
            if (totalScore > needed_points){
                select_region[1].style.background = '';
                if(totalScore > 2*needed_points){
                    select_region[2].style.background = '';
                    if (totalScore > 3*needed_points){
                        select_region[3].style.background ='';
                        if(totalScore > 4*needed_points){
                            select_region[4].style.background = '';
                            if(totalScore > 5*needed_points){
                                select_region[5].style.background='';
                            }
                        }
                    }
                }   
            }
        }
        unlocked(localStorage.getItem('new_score'))

        select_region[1].addEventListener('click', (e)=>{
            if(localStorage.getItem('new_score') > needed_points){
                window.location = 'category.html'
                sessionStorage.setItem('region', 'Asia')
            }
            else{
                e.preventDefault();
            }
        })
        select_region[2].addEventListener('click', (e)=>{
            if(localStorage.getItem('new_score') > 2*needed_points){
                window.location = 'category.html'
                sessionStorage.setItem('region', 'Oceania')
            }
            else{
                e.preventDefault();
            }
        })
        select_region[3].addEventListener('click', (e)=>{
            if(localStorage.getItem('new_score') > 3*needed_points){
                window.location = 'category.html'
                sessionStorage.setItem('region', 'North and South America')
            }
            else{
                e.preventDefault();
            }
        })
        select_region[4].addEventListener('click', (e)=>{
            if(localStorage.getItem('new_score') > 4*needed_points){
                window.location = 'category.html'
                sessionStorage.setItem('region', 'North and South America')
            }
            else{
                e.preventDefault();
            }
        })
        select_region[5].addEventListener('click', (e)=>{
            if(localStorage.getItem('new_score') > 5*needed_points){
                window.location = 'category.html'
                sessionStorage.setItem('region', 'Europe')
            }
            else{
                e.preventDefault();
            }
        })
    </script>
</body>
</html>